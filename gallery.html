<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script src="js/main.js"></script>
</head>
<body>
	<br>
	<h1>Gallery</h1>
	<h4>
		Some images from projects I've worked on and renders I've created.
		<br>
		Click an image to see a bigger version and use your arrow keys to go between images.
	</h4>

	<div id="portfolio-container">
	</div>

	<div id="overlay" class="overlay">
	</div>
	<div id="overlay-controls" class="overlay">
		<img id="close" src="images/icons/cross.svg">
		<img id="left" class="vertically-centered arrow" src="images/icons/chevron-thin-right.svg">
		<img id="right" class="vertically-centered arrow" src="images/icons/chevron-thin-left.svg">
	</div>

	<script>
		var currentID = -1;

		var portfolio = [
			{url: "images/InClouds1-min.png"},
			{url: "images/InClouds2-min.png"},
			{url: "images/Awakening.png"},
			// {url: "images/prototypeGame.png"},
			{url: "images/Lightbulb3.png"},
			{url: "images/Lightbulb4.png"},
			{url: "images/Lightbulb5.png"},
			{url: "images/sparks.jpg"},
			{url: "images/TSOT1-min.png"},
			{url: "images/TSOT2-min.png"},
			{url: "images/TSOT3-min.png"},
			{url: "images/grassPlanet.jpg"},
			{url: "images/chicagoSubwayEntrance.png"},
		];

		// Generate all the portfolio tiles
		portfolio.forEach(function(item, index)
		{
			$("#portfolio-container").append(
				'<div class="portfolio-img">' +
					'<div class="icon fullscreen"></div>' +
					'<img data-id="' + index + '" src=' + item.url + '>' +
				'</div>');
		});

		// On click of portfolio image
		$(".portfolio-img img").click(function()
		{
			$(".overlay").fadeIn();
			setOverlayImage($(this).attr("src"));
			currentID = $(this).attr("data-id");
		});

		$("#overlay, #overlay-controls #close").click(function()
		{
			$(".overlay").fadeOut();
		})

		$("#overlay-controls #right").click(nextImage);
		$("#overlay-controls #left").click(previousImage);

	$("body").keydown(function(event)
	{
	  if(event.keyCode == 37) //left arrow
	  {
	  	previousImage();
	  }
	  else if(event.keyCode == 39) //right arrow
	  {
	  	nextImage();
	  }
	  else if(event.keyCode == 27) //escape
	  {
	  	$(".overlay").fadeOut();
	  }
	});

	function setOverlayImage(url)
	{
		if($("#overlay img").length > 0) //if there's already an image
		{
			$("#overlay img").fadeOut(300, function() //fade it out
			{
				//then transition to new image
			  	$("#overlay").html('<img class="centered" src="' + url + '"">');
			  	$("#overlay img").hide().fadeIn(300);
			});
		}
		else
		{
		  	$("#overlay").html('<img class="centered" src="' + url + '"">');
		}
	}

	function nextImage()
	{
		if(currentID < portfolio.length - 1)
	  		currentID++;
	  	else
	  		currentID = 0;

	  	setOverlayImage(portfolio[currentID].url);
	}

	function previousImage()
	{
		if(currentID > 0)
	  		currentID--;
	  	else
	  		currentID = portfolio.length - 1;

	  	setOverlayImage(portfolio[currentID].url);
	}
	</script>
</body>
</html>